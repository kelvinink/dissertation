version: "3"

services:
  taskmanager:
    image: flink:scala_2.12
    ports:
      - "6121:6121"
      - "6122:6122"
    command: taskmanager
    volumes:
      - ./conf:/opt/flink/conf
      - ./etc/hostname:/etc/hostname
      - ./etc/hosts:/etc/hosts
    environment:
      - JOB_MANAGER_RPC_ADDRESS=fmaster